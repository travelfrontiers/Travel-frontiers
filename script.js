// Multi-language data
const translations = {
    pt: {
        nav: {
            home: 'Início',
            about: 'Sobre',
            services: 'Serviços',
            testimonials: 'Testemunhos',
            contact: 'Contacto'
        },
        hero: {
            title: 'Explore as Fronteiras do Mundo',
            subtitle: 'Descubra novos horizontes com a Travel Frontiers. Planeie a sua próxima aventura com um consultor especializado em experiências personalizadas.',
            cta: 'Pedir Orçamento',
            stats: {
                experience: '15 anos de experiência',
                countries: '+40 países visitados',
                subtitle1: 'A viajar pelo Mundo',
                subtitle2: 'Em quase todos os continentes'
            }
        },
        about: {
            title: 'Sobre Tiago Ferreira',
            description: 'Viajo há 15 anos e já visitei mais de 40 países, em quase todos os continentes. Ganhei bastante experiência em planear viagens e roteiros de grupo. Comecei com a consultoria de viagens há um ano, com clientes bastante satisfeitos com o serviço proporcionado, bem como as propostas apresentadas para todo o tipo de férias.',
            achievements: {
                global: 'Experiência Global',
                certified: 'Consultor Certificado',
                passion: 'Paixão por Viajar',
                trips: 'Viagens Planeadas'
            }
        },
        services: {
            title: 'Os Nossos Serviços',
            subtitle: 'Experiências únicas adaptadas às suas necessidades',
            cta: {
                title: 'Pronto para a sua próxima aventura?',
                subtitle: 'Cada viagem é única. Deixe-nos criar uma experiência inesquecível apenas para si.',
                button: 'Começar Agora'
            },
            items: [
                {
                    title: 'Planeamento Personalizado',
                    description: 'Criamos roteiros únicos baseados nos seus interesses e orçamento, com todos os detalhes cuidadosamente planeados.',
                    image: 'https://images.unsplash.com/photo-1718302661620-0404ab653acb?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Roteiros de Grupo',
                    description: 'Organize viagens em grupo com amigos e família, com atividades especiais e experiências memoráveis.',
                    image: 'img/IMG_7336.jpeg'
                },
                {
                    title: 'Pacotes Completos',
                    description: 'Desde voos a alojamento, atividades e transfers - tudo incluído para uma viagem sem preocupações.',
                    image: 'https://images.unsplash.com/photo-1554366347-897a5113f6ab?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Cruzeiros',
                    description: 'Experiências marítimas exclusivas com os melhores roteiros de cruzeiros pelo mundo, adaptados ao seu perfil.',
                    image: 'https://images.unsplash.com/photo-1594661745200-810105bcf054?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Consultoria Especializada',
                    description: 'Aconselhamento profissional baseado em experiência real de viagem em mais de 40 países.',
                    image: 'img/IMG_8984.jpeg'
                }
            ]
        },
        testimonials: {
            title: 'Testemunhos dos Clientes',
            subtitle: 'O que dizem sobre nós',
            stats: {
                trips: 'Viagens Planeadas',
                countries: 'Países Visitados',
                experience: 'Anos de Experiência'
            },
           items: [
        {
            text: 'Só podemos estar gratos pelo acompanhamento de excelência dedicado. Faz toda a experiência valer muito mais a pena!',
            author: 'Gil Gaspar',
            location: 'Porto Santo 2025'
        },
        {
            text: 'Adoramos cada momento e já estamos ansiosos para a próxima aventura... Contamos com a sua colaboração!! Obrigada por tornar estas férias especiais!!!',
            author: 'Sandra Bernardo',
            location: 'Tenerife 2025'
        },
        {
            text: 'Muito satisfeita com a proposta feita, com todas as atividades para estas férias. O acompanhamento foi perfeito!',
            author: 'Jéssica Ferreira',
            location: 'Itália 2024'
        }
    ]
},
        contact: {
            title: 'Comece a sua Próxima Aventura',
            subtitle: 'Peça o seu orçamento personalizado e deixe-nos planear a viagem dos seus sonhos',
            cta: 'Contactar Agora',
            form: {
                title: 'Pedir Orçamento Personalizado',
                subtitle: 'Clique no botão abaixo para ser redirecionado para o nosso formulário de pedido de orçamento especializado.',
                ready: 'Pronto para a aventura?',
                description: 'Preencha o nosso formulário detalhado e receberá uma proposta personalizada em 24-48h.',
                redirect: 'Será redirecionado para um formulário seguro'
            },
            whyChoose: {
                title: 'Porquê Escolher a Travel Frontiers?',
                experience: 'Experiência real de viagem em +40 países',
                planning: 'Planeamento 100% personalizado',
                support: 'Acompanhamento durante toda a viagem',
                satisfaction: 'Clientes 100% satisfeitos'
            },
            otherMethods: {
                title: 'Outras Formas de Contacto',
                email: 'Email',
                Instagram: 'Segue-me',
                location: 'Localização'
            }
        },
        footer: {
            description: 'Descubra novos horizontes com a Travel Frontiers. Há 15 anos a explorar o mundo e agora a ajudar outros a criar as suas próprias aventuras inesquecíveis!',
            quickLinks: 'Links Rápidos',
            contact: 'Contacto',
            copyright: 'Todos os direitos reservados.',
            privacy: 'Política de Privacidade',
            terms: 'Termos de Serviço'
        }
    },
    en: {
        nav: {
            home: 'Home',
            about: 'About',
            services: 'Services',
            testimonials: 'Testimonials',
            contact: 'Contact'
        },
        hero: {
            title: 'Explore the World\'s Frontiers',
            subtitle: 'Discover new horizons with Travel Frontiers. Plan your next adventure with a consultant specialized in personalized experiences.',
            cta: 'Get Quote',
            stats: {
                experience: '15 years of experience',
                countries: '+40 countries visited',
                subtitle1: 'Traveling the world',
                subtitle2: 'On all continents'
            }
        },
        about: {
            title: 'About Tiago Ferreira',
            description: 'I have been traveling for 15 years and have visited more than 40 countries on all continents. I gained extensive experience in planning trips and group itineraries. I started travel consultancy a year ago, with clients very satisfied with the service I provide and the proposals I present for all types of holidays.',
            achievements: {
                global: 'Global Experience',
                certified: 'Certified Consultant',
                passion: 'Passion for Travel',
                trips: 'Trips Planned'
            }
        },
        services: {
            title: 'Our Services',
            subtitle: 'Unique experiences tailored to your needs',
            cta: {
                title: 'Ready for your next adventure?',
                subtitle: 'Every trip is unique. Let us create an unforgettable experience just for you.',
                button: 'Start Now'
            },
            items: [
                {
                    title: 'Personalized Planning',
                    description: 'We create unique itineraries based on your interests and budget, with every detail carefully planned.',
                    image: 'https://images.unsplash.com/photo-1718302661620-0404ab653acb?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Group Itineraries',
                    description: 'Organize group trips with friends and family, featuring special activities and memorable experiences.',
                    image: 'img/IMG_7336.jpeg'
                },
                {
                    title: 'Complete Packages',
                    description: 'From flights to accommodation, activities and transfers - everything included for a worry-free trip.',
                    image: 'https://images.unsplash.com/photo-1554366347-897a5113f6ab?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Cruises',
                    description: 'Exclusive maritime experiences with the best cruise routes around the world, tailored to your profile.',
                    image: 'https://images.unsplash.com/photo-1594661745200-810105bcf054?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Specialized Consultancy',
                    description: 'Professional advice based on real travel experience in more than 40 countries.',
                    image: 'img/IMG_8984.jpeg?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                }
            ]
        },
        testimonials: {
            title: 'Client Testimonials',
            subtitle: 'What they say about us',
            stats: {
                trips: 'Trips Planned',
                countries: 'Countries Visited',
                experience: 'Years of Experience'
            },
           items: [
        {
            text: 'We can only be grateful for the excellent dedicated support. It makes the whole experience so much more worthwhile!',
            author: 'Gil Gaspar',
            location: 'Porto Santo 2025'
        },
        {
            text: 'We loved every moment and we are already looking forward to the next adventure... We count on your collaboration!! Thank you for making these holidays special!!!',
            author: 'Sandra Bernardo',
            location: 'Tenerife 2025'
        },
        {
            text: 'Very satisfied with the proposal made, with all the activities for this vacation. The support was perfect!',
            author: 'Jéssica Ferreira',
            location: 'Italy 2024'
        }
    ]
},
        contact: {
            title: 'Start Your Next Adventure',
            subtitle: 'Request your personalized quote and let us plan the trip of your dreams',
            cta: 'Contact Now',
            form: {
                title: 'Request Personalized Quote',
                subtitle: 'Click the button below to be redirected to our specialized quote request form.',
                ready: 'Ready for the adventure?',
                description: 'Fill out our detailed form and you will receive a personalized proposal within 24-48h.',
                redirect: 'You will be redirected to a secure form'
            },
            whyChoose: {
                title: 'Why Choose Travel Frontiers?',
                experience: 'Real travel experience in +40 countries',
                planning: '100% personalized planning',
                support: 'Support throughout the entire trip',
                satisfaction: '100% satisfied clients'
            },
            otherMethods: {
                title: 'Other Contact Methods',
                email: 'Email',
                Instagram: 'Follow me',
                location: 'Location'
            }
        },
        footer: {
            description: 'Discover new horizons with Travel Frontiers. 15 years exploring the world and now helping others create their own unforgettable adventures.',
            quickLinks: 'Quick Links',
            contact: 'Contact',
            copyright: 'All rights reserved.',
            privacy: 'Privacy Policy',
            terms: 'Terms of Service'
        }
    },
    fr: {
        nav: {
            home: 'Accueil',
            about: 'À propos',
            services: 'Services',
            testimonials: 'Témoignages',
            contact: 'Contact'
        },
        hero: {
            title: 'Explorez les Frontières du Monde',
            subtitle: 'Découvrez de nouveaux horizons avec Travel Frontiers. Planifiez votre prochaine aventure avec un consultant spécialisé en expériences personnalisées.',
            cta: 'Demander un Devis',
            stats: {
                experience: '15 ans d\'expérience',
                countries: '+40 pays visités',
                subtitle1: 'Voyageant dans le monde',
                subtitle2: 'Sur tous les continents'
            }
        },
        about: {
            title: 'À propos de Tiago Ferreira',
            description: 'Je voyage depuis 15 ans et j\'ai visité plus de 40 pays sur tous les continents. J\'ai acquis une vaste expérience dans la planification de voyages et d\'itinéraires de groupe. J\'ai commencé la consultation en voyage il y a un an, avec des clients très satisfaits du service que je fournis et des propositions que je présente pour tous types de vacances.',
            achievements: {
                global: 'Expérience Globale',
                certified: 'Consultant Certifié',
                passion: 'Passion pour les Voyages',
                trips: 'Voyages Planifiés'
            }
        },
        services: {
            title: 'Nos Services',
            subtitle: 'Expériences uniques adaptées à vos besoins',
            cta: {
                title: 'Prêt pour votre prochaine aventure?',
                subtitle: 'Chaque voyage est unique. Laissez-nous créer une expérience inoubliable rien que pour vous.',
                button: 'Commencer Maintenant'
            },
            items: [
                {
                    title: 'Planification Personnalisée',
                    description: 'Nous créons des itinéraires uniques basés sur vos intérêts et votre budget, avec chaque détail soigneusement planifié.',
                    image: 'https://images.unsplash.com/photo-1718302661620-0404ab653acb?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Itinéraires de Groupe',
                    description: 'Organisez des voyages de groupe avec des amis et la famille, avec des activités spéciales et des expériences mémorables.',
                    image: 'img/IMG_7336.jpeg'
                },
                {
                    title: 'Forfaits Complets',
                    description: 'Des vols à l\'hébergement, activités et transferts - tout inclus pour un voyage sans souci.',
                    image: 'https://images.unsplash.com/photo-1554366347-897a5113f6ab?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Croisières',
                    description: 'Expériences maritimes exclusives avec les meilleurs itinéraires de croisières dans le monde, adaptés à votre profil.',
                    image: 'https://images.unsplash.com/photo-1594661745200-810105bcf054?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                },
                {
                    title: 'Consultation Spécialisée',
                    description: 'Conseils professionnels basés sur une expérience de voyage réelle dans plus de 40 pays.',
                    image: 'img/IMG_8984.jpeg?crop=entropy&cs=srgb&fm=jpg&ixlib=rb-4.1.0&q=85'
                }
            ]
        },
        testimonials: {
            title: 'Témoignages Clients',
            subtitle: 'Ce qu\'ils disent de nous',
            stats: {
                trips: 'Voyages Planifiés',
                countries: 'Pays Visités',
                experience: 'Années d\'Expérience'
            },
             items: [
        {
            text: 'Nous ne pouvons qu\'être reconnaissants pour l\'excellent soutien dédié. Cela rend toute l\'expérience tellement plus enrichissante!',
            author: 'Gil Gaspar',
            location: 'Porto Santo 2025'
        },
        {
            text: 'Nous avons adoré chaque instant et nous attendons déjà avec impatience la prochaine aventure... Nous comptons sur votre collaboration !! Merci d\'avoir rendu ces vacances spéciales !!!',
            author: 'Sandra Bernardo',
            location: 'Tenerife 2025'
        },
        {
            text: 'Très satisfaite de la proposition faite, avec toutes les activités pour ces vacances. Le soutien était parfait!',
            author: 'Jéssica Ferreira',
            location: 'Italie 2024'
        }
    ]
},
        contact: {
            title: 'Commencez Votre Prochaine Aventure',
            subtitle: 'Demandez votre devis personnalisé et laissez-nous planifier le voyage de vos rêves',
            cta: 'Contactez Maintenant',
            form: {
                title: 'Demander un Devis Personnalisé',
                subtitle: 'Cliquez sur le bouton ci-dessous pour être redirigé vers notre formulaire spécialisé de demande de devis.',
                ready: 'Prêt pour l\'aventure?',
                description: 'Remplissez notre formulaire détaillé et vous recevrez une proposition personnalisée dans les 24-48h.',
                redirect: 'Vous serez redirigé vers un formulaire sécurisé'
            },
            whyChoose: {
                title: 'Pourquoi Choisir Travel Frontiers?',
                experience: 'Expérience de voyage réelle dans +40 pays',
                planning: 'Planification 100% personnalisée',
                support: 'Accompagnement pendant tout le voyage',
                satisfaction: 'Clients 100% satisfaits'
            },
            otherMethods: {
                title: 'Autres Méthodes de Contact',
                email: 'Email',
                Instagram: 'Suis-moi',
                location: 'Localisation'
            }
        },
        footer: {
            description: 'Découvrez de nouveaux horizons avec Travel Frontiers. 15 ans à explorer le monde et maintenant aidant les autres à créer leurs propres aventures inoubliables.',
            quickLinks: 'Liens Rapides',
            contact: 'Contact',
            copyright: 'Tous droits réservés.',
            privacy: 'Politique de Confidentialité',
            terms: 'Conditions de Service'
        }
    }
};

// Global variables
let currentLanguage = 'pt';
let currentTestimonialIndex = 0;

// Initialize the page
document.addEventListener('DOMContentLoaded', function() {
    initializeLanguageSelector();
    initializeMobileMenu();
    initializeNavigation();
    initializeTestimonials();
    renderServices();
    updateContent();
});

// Language functionality
function initializeLanguageSelector() {
    const langButton = document.getElementById('currentLang');
    const langDropdown = document.getElementById('langDropdown');
    
    langButton.addEventListener('click', function() {
        langDropdown.classList.toggle('show');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        if (!langButton.contains(event.target) && !langDropdown.contains(event.target)) {
            langDropdown.classList.remove('show');
        }
    });
}

function changeLanguage(lang) {
    currentLanguage = lang;
    document.getElementById('langCode').textContent = lang.toUpperCase();
    document.getElementById('langDropdown').classList.remove('show');
    document.documentElement.lang = lang;
    updateContent();
    renderServices();
    updateTestimonials();
}

function updateContent() {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = getTranslation(key);
        if (translation) {
            element.textContent = translation;
        }
    });
}

function getTranslation(key) {
    const keys = key.split('.');
    let value = translations[currentLanguage];
    
    for (const k of keys) {
        value = value?.[k];
    }
    
    return value;
}

// Mobile menu functionality
function initializeMobileMenu() {
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    mobileMenuBtn.addEventListener('click', function() {
        mobileMenu.classList.toggle('show');
        mobileMenuBtn.classList.toggle('active');
    });
    
    // Close mobile menu when clicking on links
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
        link.addEventListener('click', function() {
            mobileMenu.classList.remove('show');
            mobileMenuBtn.classList.remove('active');
        });
    });
}

// Navigation functionality
function initializeNavigation() {
    const navLinks = document.querySelectorAll('a[href^="#"]');
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetSection = document.getElementById(targetId);
            
            if (targetSection) {
                const headerHeight = document.querySelector('.header').offsetHeight;
                const targetPosition = targetSection.offsetTop - headerHeight;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Services functionality
function renderServices() {
  const servicesGrid = document.querySelector('.services-grid');
  const services = translations[currentLanguage].services.items;
  
  // Gera o HTML das cards de serviço
  servicesGrid.innerHTML = services.map(service => `
    <div class="service-card">
      <div class="service-image">
        <img src="${service.image}" alt="${service.title}" 
             loading="lazy" class="clickable-service">
        <div class="service-overlay"></div>
        <h3 class="service-title">${service.title}</h3>
      </div>
      <div class="service-content">
        <p class="service-description">${service.description}</p>
      </div>
    </div>
  `).join('');

  // Adiciona evento de clique para abrir o lightbox
  document.querySelectorAll('.clickable-service').forEach(img => {
    img.addEventListener('click', () => {
      const lightbox = document.getElementById('lightbox');
      const big = lightbox.querySelector('img');
      big.src = img.src; // Mostra a mesma imagem mas maior
      lightbox.classList.add('show');
      lightbox.setAttribute('aria-hidden', 'false');
    });
  });
}

// Testimonials functionality
function initializeTestimonials() {
    const prevBtn = document.getElementById('prevTestimonial');
    const nextBtn = document.getElementById('nextTestimonial');
    
    prevBtn.addEventListener('click', function() {
        currentTestimonialIndex = currentTestimonialIndex === 0 
            ? translations[currentLanguage].testimonials.items.length - 1 
            : currentTestimonialIndex - 1;
        updateTestimonials();
    });
    
    nextBtn.addEventListener('click', function() {
        currentTestimonialIndex = (currentTestimonialIndex + 1) % translations[currentLanguage].testimonials.items.length;
        updateTestimonials();
    });
    
    createTestimonialDots();
    updateTestimonials();
}

function createTestimonialDots() {
    const dotsContainer = document.getElementById('testimonialDots');
    const testimonials = translations[currentLanguage].testimonials.items;
    
    dotsContainer.innerHTML = testimonials.map((_, index) => 
        `<div class="dot ${index === currentTestimonialIndex ? 'active' : ''}" onclick="goToTestimonial(${index})"></div>`
    ).join('');
}

function updateTestimonials() {
    const testimonials = translations[currentLanguage].testimonials.items;
    const currentTestimonial = testimonials[currentTestimonialIndex];
    
    document.getElementById('currentTestimonial').textContent = `"${currentTestimonial.text}"`;
    document.getElementById('currentAuthor').textContent = currentTestimonial.author;
    document.getElementById('currentLocation').textContent = currentTestimonial.location;
    
    // Update navigation buttons
    const prevBtn = document.getElementById('prevTestimonial');
    const nextBtn = document.getElementById('nextTestimonial');
    
    prevBtn.disabled = testimonials.length <= 1;
    nextBtn.disabled = testimonials.length <= 1;
    
    // Update dots
    const dots = document.querySelectorAll('.dot');
    dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentTestimonialIndex);
    });
}

function goToTestimonial(index) {
    currentTestimonialIndex = index;
    updateTestimonials();
}

// Quote form functionality
function openQuoteForm() {
    window.open('https://www.icligo.com/forms/pt/contact-us/book-your-trip?utm_source=LHw8s4N4', '_blank');
}

// Fechar o lightbox
document.addEventListener('DOMContentLoaded', () => {
  const lightbox = document.getElementById('lightbox');
  const closeBtn = document.querySelector('.lightbox-close');
  if (!lightbox || !closeBtn) return;

  closeBtn.addEventListener('click', () => {
    lightbox.classList.remove('show');
    lightbox.setAttribute('aria-hidden', 'true');
  });

  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) {
      lightbox.classList.remove('show');
      lightbox.setAttribute('aria-hidden', 'true');
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      lightbox.classList.remove('show');
      lightbox.setAttribute('aria-hidden', 'true');
    }
  });
});

// Smooth scrolling enhancement
function smoothScroll() {
    window.addEventListener('scroll', function() {
        const header = document.querySelector('.header');
        if (window.scrollY > 100) {
            header.style.background = 'rgba(255, 255, 255, 0.95)';
        } else {
            header.style.background = 'rgba(255, 255, 255, 0.9)';
        }
    });
}

// Initialize smooth scrolling
smoothScroll();

// Passagem automática a cada 5 segundos
setInterval(() => {
    // Simula clique no botão "próximo"
    const nextBtn = document.getElementById('nextTestimonial');
    if (nextBtn && !nextBtn.disabled) {
        nextBtn.click();
    }
}, 5000); // 5000 ms = 5 segundos

document.addEventListener('DOMContentLoaded', () => {
  const images = document.querySelectorAll('.photo-carousel .carousel-img');
  let current = 0;

  function showImage(idx) {
    images.forEach((img, i) => {
      img.classList.toggle('active', i === idx);
    });
  }

  setInterval(() => {
    current = (current + 1) % images.length;
    showImage(current);
  }, 2300); // 2.3 segundos para um efeito rápido e fluido

  showImage(current); // inicializa primeiro
});

